<% form_for(:feature, feature,
                      :url => (feature.new_record? ? features_path : feature_path(feature)),
                      :html => {
                        :method => (feature.new_record? ? :post : :put)
                      }) do |form| %>
  <fieldset>
    <legend><%= legend %></legend>

    <%= error_messages_for(:feature, :object => feature) %>

    <%= form.label(:symbol) %>
    <%= form.text_field(:symbol, :required => 'required', :pattern => Arturo::Feature::SYMBOL_REGEX.source, :class => 'symbol') %>

    <%= form.label(:deployment_percentage) %>
    <%= form.range_field(:deployment_percentage, :min => '0', :max => '100', :step => '1', :class => 'deployment_percentage') %>
    <%= deployment_percentage_output_tag 'feature_deployment_percentage', feature.deployment_percentage %>

    <footer><%= form.submit %></footer>
  </fieldset>
<% end %>
